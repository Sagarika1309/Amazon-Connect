{"modules":[{"id":"e61dbc55-0a2f-4b53-892d-e97f494ca7de","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cbdb795e-c887-4064-bb5b-1f02cd881b8a"},{"condition":"Error","transition":"cbdb795e-c887-4064-bb5b-1f02cd881b8a"}],"parameters":[{"name":"Text","value":"Welcome to ABC Insurance. How can we help you today?","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":159,"y":15},"useDynamic":false}},{"id":"e58234c6-a193-4360-8996-ea4d5fd0c0bf","type":"PlayPrompt","branches":[{"condition":"Success","transition":"94180d1b-c3c7-4e70-adb0-83045aea02b0"},{"condition":"Error","transition":"94180d1b-c3c7-4e70-adb0-83045aea02b0"}],"parameters":[{"name":"Text","value":"Sorry, the case number doesn't exist. Please try again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1982,"y":378},"useDynamic":false}},{"id":"00d7479f-7bfd-45e6-89f0-4378adeeecbc","type":"Loop","branches":[{"condition":"Looping","transition":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b"},{"condition":"Complete","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":1352,"y":355},"useDynamic":false}},{"id":"94180d1b-c3c7-4e70-adb0-83045aea02b0","type":"Loop","branches":[{"condition":"Looping","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"},{"condition":"Complete","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":2240,"y":365},"useDynamic":false}},{"id":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"case_id_value","transition":"9038435c-27e1-4481-a77d-050a5ee80c7c"},{"condition":"NoMatch","transition":"9038435c-27e1-4481-a77d-050a5ee80c7c"},{"condition":"Error","transition":"e58234c6-a193-4360-8996-ea4d5fd0c0bf"}],"parameters":[{"name":"Text","value":"Choose the claim number of which you want to check the status for.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":1939,"y":79},"conditionMetadata":[{"id":"693309c7-2ec1-4a74-b40b-5eddaff6f845","value":"case_id_value"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"9038435c-27e1-4481-a77d-050a5ee80c7c","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"New","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"On Hold","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Escalated","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Closed","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"NoMatch","transition":"a06f1adc-a0e5-479d-88bb-cc89dcc80ee7"}],"parameters":[{"name":"Attribute","value":"Status"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":2238,"y":51},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"New","id":"2888d1b1-1a56-4e6c-8bc5-18351e472655"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"On Hold","id":"9fa88e16-03bf-468b-ab12-98e2f2beb3db"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Escalated","id":"48254cb4-526f-4acc-83c3-0cff7f36c25f"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Closed","id":"d3e1fab9-bf34-4f66-bbd1-ad1a2ede2961"}]}},{"id":"cbdb795e-c887-4064-bb5b-1f02cd881b8a","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"d99f6482-a0f3-464e-beb2-e590bec1b85a"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":381,"y":17}}},{"id":"18b219f8-4efb-4d2d-bb67-58aacb664783","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"d37fc41e-b60b-45e0-8981-a55d31da1c0c"},{"condition":"Error","transition":"d37fc41e-b60b-45e0-8981-a55d31da1c0c"}],"parameters":[],"metadata":{"position":{"x":2300,"y":1141},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"d37fc41e-b60b-45e0-8981-a55d31da1c0c","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2671,"y":1200}}},{"id":"2fd82799-1677-41b2-af07-906f5c723403","type":"SetQueue","branches":[{"condition":"Success","transition":"18b219f8-4efb-4d2d-bb67-58aacb664783"},{"condition":"Error","transition":"18b219f8-4efb-4d2d-bb67-58aacb664783"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:670152460841:instance/b77b26b5-33f7-4ac9-b70b-ba97a6ea193d/queue/ef39ae1e-8128-4114-9f4e-326c0dee8575","namespace":null,"resourceName":"General Support"}],"metadata":{"position":{"x":1926,"y":1137},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:670152460841:instance/b77b26b5-33f7-4ac9-b70b-ba97a6ea193d/queue/ef39ae1e-8128-4114-9f4e-326c0dee8575","text":"General Support"}}},{"id":"d99f6482-a0f3-464e-beb2-e590bec1b85a","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Check_Claim","transition":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Create_Case","transition":"9d0628f5-00c2-4f24-8362-37ce4b7e1f52"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Speak_to_Agent","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"},{"condition":"NoMatch","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Text","value":"Press 1 to Create a new claim,\nPress 2 to Check claim update,\nPress 3 to Speak to an agent.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":74,"y":361},"conditionMetadata":[{"id":"2a44a9ce-5de9-4710-b167-6d92f9c6e237","value":"Check_Claim"},{"id":"099626ec-0cc8-42c1-8479-77ba7e74e4ae","value":"Create_Case"},{"id":"36a43b57-8bed-4398-82cd-21a86f4bb768","value":"Speak_to_Agent"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"3c22c74a-5741-4cc4-8fc5-23acd6370143","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"},{"condition":"Error","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"}],"parameters":[{"name":"Text","value":"The Available cases for your number are $.External.CaseNumber","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1676,"y":78},"useDynamic":true}},{"id":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ContactPhone","transition":"72785691-d956-4d26-b071-97fbec9462a0"},{"condition":"NoMatch","transition":"72785691-d956-4d26-b071-97fbec9462a0"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"Text","value":"Please enter your registered phone number.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":496,"y":226},"conditionMetadata":[{"id":"ae4e7f01-bf24-41e5-8c20-e383fe95c500","value":"ContactPhone"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"345a2c67-6323-4ad1-945a-e9b6250cc37a","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"0","transition":"3c22c74a-5741-4cc4-8fc5-23acd6370143"},{"condition":"NoMatch","transition":"3c22c74a-5741-4cc4-8fc5-23acd6370143"}],"parameters":[{"name":"Attribute","value":"CaseNumber"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1397,"y":71},"conditionMetadata":[{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"0","id":"2e7d07d8-9df1-4d17-9c1b-91958067e35b"}]}},{"id":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb","type":"PlayPrompt","branches":[{"condition":"Success","transition":"00d7479f-7bfd-45e6-89f0-4378adeeecbc"},{"condition":"Error","transition":"00d7479f-7bfd-45e6-89f0-4378adeeecbc"}],"parameters":[{"name":"Text","value":"Sorry, the number doesn't exist. Please try again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1125,"y":359},"useDynamic":false}},{"id":"72785691-d956-4d26-b071-97fbec9462a0","type":"SetAttributes","branches":[{"condition":"Success","transition":"59da758a-6950-4d7d-993c-f9f39c845e1d"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"Attribute","value":"Phone","key":"Phone_number","namespace":"Lex.Slots"}],"metadata":{"position":{"x":843,"y":84},"dynamicParams":["Phone_number"]}},{"id":"59da758a-6950-4d7d-993c-f9f39c845e1d","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"345a2c67-6323-4ad1-945a-e9b6250cc37a"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"lookup","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"sf_fields","value":"CaseNumber, Status","namespace":null},{"name":"Parameter","key":"ContactPhone","value":"Phone","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1140,"y":77},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"sf_fields":false,"ContactPhone":true},"useDynamic":false},"target":"Lambda"},{"id":"a06f1adc-a0e5-479d-88bb-cc89dcc80ee7","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"},{"condition":"Error","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"}],"parameters":[{"name":"Text","value":"Sorry. this number doesnt exist. Please try again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2324,"y":591},"useDynamic":false}},{"id":"95ab2a1f-d2d8-46c9-9f0b-0af89cfb7e34","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342"},{"condition":"Error","transition":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"phoneLookup","namespace":null},{"name":"Parameter","key":"sf_fields","value":"Id, Name","namespace":null},{"name":"Parameter","key":"sf_phone","value":"Phone","namespace":"Lex.Slots"}],"metadata":{"position":{"x":942,"y":723},"dynamicMetadata":{"sf_operation":false,"sf_fields":false,"sf_phone":true},"useDynamic":false},"target":"Lambda"},{"id":"3d173be2-8265-4972-b5cc-aae4d5f42cfa","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"},{"condition":"Error","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"}],"parameters":[{"name":"Text","value":"Your maximum chances are complete. Please try again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1926,"y":925},"useDynamic":false}},{"id":"9d0628f5-00c2-4f24-8362-37ce4b7e1f52","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ContactPhone","transition":"af8454fb-97fa-4b9c-a364-233d4a98d980"},{"condition":"NoMatch","transition":"af8454fb-97fa-4b9c-a364-233d4a98d980"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Text","value":"Please enter your registered phone number.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":378,"y":723},"conditionMetadata":[{"id":"fa979f6d-50a7-400a-9b29-ab4a99acff43","value":"ContactPhone"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"af8454fb-97fa-4b9c-a364-233d4a98d980","type":"SetAttributes","branches":[{"condition":"Success","transition":"95ab2a1f-d2d8-46c9-9f0b-0af89cfb7e34"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Attribute","value":"Phone","key":"Phone_number","namespace":"Lex.Slots"}],"metadata":{"position":{"x":675,"y":724},"dynamicParams":["Phone_number"]}},{"id":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"e51d70c0-7c3a-4606-890d-9907d6da6862"},{"condition":"Error","transition":"e51d70c0-7c3a-4606-890d-9907d6da6862"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"create","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"Origin","value":"Phone","namespace":null},{"name":"Parameter","key":"Status","value":"New","namespace":null},{"name":"Parameter","key":"ContactId","value":"Id","namespace":"External"},{"name":"Parameter","key":"Subject","value":"Amazon Connect Case","namespace":null},{"name":"Parameter","key":"Priority","value":"Medium","namespace":null}],"metadata":{"position":{"x":1185,"y":722},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"Origin":false,"Status":false,"ContactId":true,"Subject":false,"Priority":false},"useDynamic":false},"target":"Lambda"},{"id":"b0ef6785-45db-4803-a1bc-baa95c888e77","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2670,"y":631}}},{"id":"e51d70c0-7c3a-4606-890d-9907d6da6862","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"7a80fd31-9643-4231-9e8a-b864e19731f7"},{"condition":"Error","transition":"7a80fd31-9643-4231-9e8a-b864e19731f7"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"lookup","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"sf_fields","value":"CaseNumber","namespace":null},{"name":"Parameter","key":"ContactPhone","value":"Phone","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1462,"y":714},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"sf_fields":false,"ContactPhone":true},"useDynamic":false},"target":"Lambda"},{"id":"7a80fd31-9643-4231-9e8a-b864e19731f7","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4a8a1320-0889-425b-83d8-0955589a199f"},{"condition":"Error","transition":"4a8a1320-0889-425b-83d8-0955589a199f"}],"parameters":[{"name":"Text","value":"Your case is created with case number $.External.CaseNumber","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1708,"y":705},"useDynamic":false}},{"id":"1525fc2f-5efe-4b6f-bc3b-c260609af37f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2fd82799-1677-41b2-af07-906f5c723403"},{"condition":"Error","transition":"2fd82799-1677-41b2-af07-906f5c723403"}],"parameters":[{"name":"Text","value":"Please wait while we are transferring you to our agent.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1604,"y":1146},"useDynamic":false}},{"id":"04516df9-e728-4381-84bf-8edec3d29100","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4a8a1320-0889-425b-83d8-0955589a199f"},{"condition":"Error","transition":"4a8a1320-0889-425b-83d8-0955589a199f"}],"parameters":[{"name":"Text","value":"The Status of your claim is $.External.Status","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2476,"y":146},"useDynamic":false}},{"id":"4a8a1320-0889-425b-83d8-0955589a199f","type":"SetAttributes","branches":[{"condition":"Success","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"},{"condition":"Error","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"}],"parameters":[{"name":"Attribute","value":"true","key":"postcallTranscribeEnabled","namespace":null},{"name":"Attribute","value":"en-IN","key":"postcallTranscribeLanguage","namespace":null},{"name":"Attribute","value":"true","key":"postcallRecordingImportEnabled","namespace":null},{"name":"Attribute","value":"snt,dl,kw,syn","key":"postcallTranscribeComprehendAnalysis","namespace":null},{"name":"Attribute","value":"true","key":"postcallCTRImportEnabled","namespace":null}],"metadata":{"position":{"x":2206,"y":813},"dynamicParams":[]}}],"version":"1","start":"e61dbc55-0a2f-4b53-892d-e97f494ca7de","metadata":{"entryPointPosition":{"x":15,"y":76.29732421820512},"snapToGrid":false,"name":"SalesforceConnectIntegration","description":null,"type":"contactFlow","status":"published","hash":"9c9f016a6ceeebfd9d375d708b9f49657cb146dd82d274f7235dadc1d08eeafd"},"type":"contactFlow"}