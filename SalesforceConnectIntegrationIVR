{"modules":[{"id":"04516df9-e728-4381-84bf-8edec3d29100","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"},{"condition":"Error","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"}],"parameters":[{"name":"Text","value":"The Status of your claim is $.External.Status","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2476,"y":146},"useDynamic":false}},{"id":"18b219f8-4efb-4d2d-bb67-58aacb664783","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"d37fc41e-b60b-45e0-8981-a55d31da1c0c"},{"condition":"Error","transition":"d37fc41e-b60b-45e0-8981-a55d31da1c0c"}],"parameters":[],"metadata":{"position":{"x":2300,"y":1141},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"d37fc41e-b60b-45e0-8981-a55d31da1c0c","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2671,"y":1200}}},{"id":"2fd82799-1677-41b2-af07-906f5c723403","type":"SetQueue","branches":[{"condition":"Success","transition":"18b219f8-4efb-4d2d-bb67-58aacb664783"},{"condition":"Error","transition":"18b219f8-4efb-4d2d-bb67-58aacb664783"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:670152460841:instance/b77b26b5-33f7-4ac9-b70b-ba97a6ea193d/queue/ef39ae1e-8128-4114-9f4e-326c0dee8575","namespace":null,"resourceName":"General Support"}],"metadata":{"position":{"x":1926,"y":1137},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:670152460841:instance/b77b26b5-33f7-4ac9-b70b-ba97a6ea193d/queue/ef39ae1e-8128-4114-9f4e-326c0dee8575","text":"General Support"}}},{"id":"9d0628f5-00c2-4f24-8362-37ce4b7e1f52","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ContactPhone","transition":"af8454fb-97fa-4b9c-a364-233d4a98d980"},{"condition":"NoMatch","transition":"af8454fb-97fa-4b9c-a364-233d4a98d980"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Text","value":"Please enter your registered phone number.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":378,"y":723},"conditionMetadata":[{"id":"e805bc9e-8835-4411-a46b-1c396d005756","value":"ContactPhone"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"1525fc2f-5efe-4b6f-bc3b-c260609af37f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2fd82799-1677-41b2-af07-906f5c723403"},{"condition":"Error","transition":"2fd82799-1677-41b2-af07-906f5c723403"}],"parameters":[{"name":"Text","value":"Please wait while we are transferring you to our agent.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1604,"y":1146},"useDynamic":false}},{"id":"3d173be2-8265-4972-b5cc-aae4d5f42cfa","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"},{"condition":"Error","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"}],"parameters":[{"name":"Text","value":"Your maximum chances are complete. Please try again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1926,"y":925},"useDynamic":false}},{"id":"9f101a40-7982-4d0f-bd9c-5074a4de80b7","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"46e854bb-f605-4891-ac93-6029434530af"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":57,"y":738}}},{"id":"d99f6482-a0f3-464e-beb2-e590bec1b85a","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Check_Claim","transition":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Create_Case","transition":"9d0628f5-00c2-4f24-8362-37ce4b7e1f52"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Speak_to_Agent","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"},{"condition":"NoMatch","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Text","value":"Press 1 to Create a new claim,\nPress 2 to Check claim update,\nPress 3 to Speak to an agent.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":372,"y":397},"conditionMetadata":[{"id":"30bd47e1-e691-4554-8342-7818b3b9d6d0","value":"Check_Claim"},{"id":"504705af-f52d-42ba-869f-728605c7d764","value":"Create_Case"},{"id":"43b77977-792f-402a-9f88-fa5b78afe0ab","value":"Speak_to_Agent"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"345a2c67-6323-4ad1-945a-e9b6250cc37a","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"StartsWith","conditionValue":"0","transition":"3c22c74a-5741-4cc4-8fc5-23acd6370143"},{"condition":"NoMatch","transition":"3c22c74a-5741-4cc4-8fc5-23acd6370143"}],"parameters":[{"name":"Attribute","value":"CaseNumber"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1397,"y":71},"conditionMetadata":[{"operator":{"name":"Starts with","value":"StartsWith","shortDisplay":"starts with"},"value":"0","id":"06a08c88-c0ea-4eeb-a82b-3cf22a26ee22"}]}},{"id":"9038435c-27e1-4481-a77d-050a5ee80c7c","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"New","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"On Hold","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Escalated","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Closed","transition":"04516df9-e728-4381-84bf-8edec3d29100"},{"condition":"NoMatch","transition":"a06f1adc-a0e5-479d-88bb-cc89dcc80ee7"}],"parameters":[{"name":"Attribute","value":"Status"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":2238,"y":51},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"New","id":"9324e002-534e-4666-9d42-e30eb840a572"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"On Hold","id":"bd19ee62-baeb-4f7c-9855-343a9546f2d2"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Escalated","id":"706727c7-f650-48b5-94e8-70c0d274f867"},{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Closed","id":"47299e48-c61c-4e31-b914-a12ce764e578"}]}},{"id":"3c22c74a-5741-4cc4-8fc5-23acd6370143","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"},{"condition":"Error","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"}],"parameters":[{"name":"Text","value":"The Available cases for your number are $.External.CaseNumber","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1676,"y":78},"useDynamic":true}},{"id":"94180d1b-c3c7-4e70-adb0-83045aea02b0","type":"Loop","branches":[{"condition":"Looping","transition":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb"},{"condition":"Complete","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":2240,"y":365},"useDynamic":false}},{"id":"8f7d1f39-2904-4b8f-9fc3-65aebd1f7adb","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"case_id_value","transition":"9038435c-27e1-4481-a77d-050a5ee80c7c"},{"condition":"NoMatch","transition":"9038435c-27e1-4481-a77d-050a5ee80c7c"},{"condition":"Error","transition":"e58234c6-a193-4360-8996-ea4d5fd0c0bf"}],"parameters":[{"name":"Text","value":"Choose the claim number of which you want to check the status for.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":1939,"y":79},"conditionMetadata":[{"id":"1587f5e9-f946-425b-88b7-001a660c6f4a","value":"case_id_value"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"e58234c6-a193-4360-8996-ea4d5fd0c0bf","type":"PlayPrompt","branches":[{"condition":"Success","transition":"94180d1b-c3c7-4e70-adb0-83045aea02b0"},{"condition":"Error","transition":"94180d1b-c3c7-4e70-adb0-83045aea02b0"}],"parameters":[{"name":"Text","value":"Sorry, the case number doesn't exist. Please try again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1982,"y":378},"useDynamic":false}},{"id":"cbdb795e-c887-4064-bb5b-1f02cd881b8a","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"d99f6482-a0f3-464e-beb2-e590bec1b85a"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":381,"y":17}}},{"id":"46e854bb-f605-4891-ac93-6029434530af","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"e61dbc55-0a2f-4b53-892d-e97f494ca7de"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Disable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":248,"y":217}}},{"id":"e61dbc55-0a2f-4b53-892d-e97f494ca7de","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cbdb795e-c887-4064-bb5b-1f02cd881b8a"},{"condition":"Error","transition":"cbdb795e-c887-4064-bb5b-1f02cd881b8a"}],"parameters":[{"name":"Text","value":"Thank you for calling ABC Insurance.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":159,"y":15},"useDynamic":false}},{"id":"dfdaee0f-a927-4949-8d69-025fe3128aee","type":"SetVoice","branches":[{"condition":"Success","transition":"9f101a40-7982-4d0f-bd9c-5074a4de80b7"}],"parameters":[{"name":"GlobalVoice","value":"Salli"}],"metadata":{"position":{"x":25,"y":503},"overrideConsoleVoice":false,"defaultVoice":"Standard"}},{"id":"6b1ec2c1-8710-49fb-917c-df54a1003534","type":"SetAttributes","branches":[{"condition":"Success","transition":"dfdaee0f-a927-4949-8d69-025fe3128aee"},{"condition":"Error","transition":"dfdaee0f-a927-4949-8d69-025fe3128aee"}],"parameters":[{"name":"Attribute","value":"Customer Number","key":"ContactPhone","namespace":"System"}],"metadata":{"position":{"x":17,"y":256},"dynamicParams":["ContactPhone"]}},{"id":"00d7479f-7bfd-45e6-89f0-4378adeeecbc","type":"Loop","branches":[{"condition":"Looping","transition":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b"},{"condition":"Complete","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"LoopCount","value":"3"}],"metadata":{"position":{"x":1352,"y":355},"useDynamic":false}},{"id":"59da758a-6950-4d7d-993c-f9f39c845e1d","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"345a2c67-6323-4ad1-945a-e9b6250cc37a"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"lookup","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"sf_fields","value":"CaseNumber, Status","namespace":null},{"name":"Parameter","key":"ContactPhone","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":1140,"y":77},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"sf_fields":false,"ContactPhone":true},"useDynamic":false},"target":"Lambda"},{"id":"72785691-d956-4d26-b071-97fbec9462a0","type":"SetAttributes","branches":[{"condition":"Success","transition":"59da758a-6950-4d7d-993c-f9f39c845e1d"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"Attribute","value":"Customer Number","key":"Phone_number","namespace":"System"}],"metadata":{"position":{"x":843,"y":84},"dynamicParams":["Phone_number"]}},{"id":"f9970079-b30a-45cd-8f48-d7d7b92e6c9b","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ContactPhone","transition":"72785691-d956-4d26-b071-97fbec9462a0"},{"condition":"NoMatch","transition":"72785691-d956-4d26-b071-97fbec9462a0"},{"condition":"Error","transition":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb"}],"parameters":[{"name":"Text","value":"Please enter your registered phone number.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SalesforceConnect"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":601,"y":222},"conditionMetadata":[{"id":"02a169e7-c69b-464b-a668-1996786d0949","value":"ContactPhone"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"SalesforceConnect"},"target":"Lex"},{"id":"19d4c4b7-9dd5-4911-999a-7a3bab6f17cb","type":"PlayPrompt","branches":[{"condition":"Success","transition":"00d7479f-7bfd-45e6-89f0-4378adeeecbc"},{"condition":"Error","transition":"00d7479f-7bfd-45e6-89f0-4378adeeecbc"}],"parameters":[{"name":"Text","value":"Sorry, the number doesn't exist. Please try again","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1075,"y":315},"useDynamic":false}},{"id":"af8454fb-97fa-4b9c-a364-233d4a98d980","type":"SetAttributes","branches":[{"condition":"Success","transition":"95ab2a1f-d2d8-46c9-9f0b-0af89cfb7e34"},{"condition":"Error","transition":"3d173be2-8265-4972-b5cc-aae4d5f42cfa"}],"parameters":[{"name":"Attribute","value":"Phone","key":"Phone_number","namespace":"Lex.Slots"}],"metadata":{"position":{"x":675,"y":724},"dynamicParams":["Phone_number"]}},{"id":"b0ef6785-45db-4803-a1bc-baa95c888e77","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2670,"y":631}}},{"id":"f5125ba4-69d2-402b-9bc0-cde6ba4cd3dc","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"},{"condition":"Error","transition":"1525fc2f-5efe-4b6f-bc3b-c260609af37f"}],"parameters":[{"name":"Text","value":"Your case is created with case number $.External.CaseNumber","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1691,"y":709},"useDynamic":false}},{"id":"6da1dd8f-fa40-446a-8f94-59a4c63f2b52","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"f5125ba4-69d2-402b-9bc0-cde6ba4cd3dc"},{"condition":"Error","transition":"f5125ba4-69d2-402b-9bc0-cde6ba4cd3dc"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"lookup","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"sf_fields","value":"CaseNumber","namespace":null},{"name":"Parameter","key":"ContactPhone","value":"Phone","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1445,"y":718},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"sf_fields":false,"ContactPhone":true},"useDynamic":false},"target":"Lambda"},{"id":"a06f1adc-a0e5-479d-88bb-cc89dcc80ee7","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"},{"condition":"Error","transition":"b0ef6785-45db-4803-a1bc-baa95c888e77"}],"parameters":[{"name":"Text","value":"Sorry. this number doesnt exist. Please try again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2324,"y":591},"useDynamic":false}},{"id":"95ab2a1f-d2d8-46c9-9f0b-0af89cfb7e34","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342"},{"condition":"Error","transition":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"phoneLookup","namespace":null},{"name":"Parameter","key":"sf_fields","value":"Id, Name","namespace":null},{"name":"Parameter","key":"sf_phone","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":942,"y":723},"dynamicMetadata":{"sf_operation":false,"sf_fields":false,"sf_phone":true},"useDynamic":false},"target":"Lambda"},{"id":"9d0bf500-70c2-454f-b2bc-e2cd6c11d342","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"6da1dd8f-fa40-446a-8f94-59a4c63f2b52"},{"condition":"Error","transition":"a06f1adc-a0e5-479d-88bb-cc89dcc80ee7"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:670152460841:function:serverlessrepo-ACSujata-sfInvokeAPI-1VKIOV15YNVHR","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"sf_operation","value":"create","namespace":null},{"name":"Parameter","key":"sf_object","value":"Case","namespace":null},{"name":"Parameter","key":"Origin","value":"Phone","namespace":null},{"name":"Parameter","key":"Status","value":"New","namespace":null},{"name":"Parameter","key":"ContactId","value":"Id","namespace":"External"},{"name":"Parameter","key":"Subject","value":"Amazon Connect Case","namespace":null},{"name":"Parameter","key":"Priority","value":"Medium","namespace":null}],"metadata":{"position":{"x":1167,"y":719},"dynamicMetadata":{"sf_operation":false,"sf_object":false,"Origin":false,"Status":false,"ContactId":true,"Subject":false,"Priority":false},"useDynamic":false},"target":"Lambda"}],"version":"1","start":"6b1ec2c1-8710-49fb-917c-df54a1003534","metadata":{"entryPointPosition":{"x":15,"y":76.29732421820512},"snapToGrid":false,"name":"SalesforceConnectIntegrationIVR","description":null,"type":"contactFlow","status":"published","hash":"7cb2c8a8e6f0c1e03ad5f9a19ab96ac948c4d8465a2359a30d84e4389661774f"},"type":"contactFlow"}